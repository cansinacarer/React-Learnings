# 4. React State in the Component Tree

## Working with a create-react-app project:

src/index.js is like your index.html, it is the entry point to your app.

Components are in their own files, they `export default` the component function at the end.

You run it with `npm start`, you may need to run `npm install` first to install the dependencies from package.json.

## Destructuring the props or any other Object

Instead of using props as the arg for the component function, you can use an object with the keys of the elements from the props:

```jsx
function App({ cheer, library }) {
	return (
		<div className="App">
			<h1>
				{cheer} from {library}.
			</h1>
		</div>
	);
}
```

Instead of `function App(props)` and `{props.cheer} from {props.library}`.

## Destructuring Arrays

You can desctructure an Array and assign its elements to variables as below:

```js
const [firstCity, second] = ["Tokyo", "Tahoe City", "Bend"];
```

Then you can use those variables in a component like `<p>{firstCity} and {second}.</p>`.

This is used in useState.

## useState Hook

**Step 1:** Import useState in the component.

```js
import { useState } from "react";
```

**Step 2:** Define a variable to hold the state and a function to update it.

If we assign `useState()`; to a variable and log it in console, we see that it is an Array with an undefined value (value of the state) and a function (to update the value). So we need to destructure `useState()` into 2 variables.

```js
const [emotion, setEmotion] = useState("happy");
```

If you want to give it an initial value, you can pass it in useState() as an arg.

-   When the app is first rendered, emotion = 'happy', you can print it wherever with

    ```jsx
    <h1>Hello from {emotion} guy!</h1>
    ```

-   We can update it with the setEmotion method:

    ```jsx
    <button onClick={() => setEmotion("sad")}
    <!-- or -->
    <button onClick={toggleEmotion}> <!-- where toggleEmotion() is a function-->
    ```

## useEffect

Used for side effects that aren't related to a component's render.

**Step 1:** We start by importing it:

```js
import { useState, useEffect } from "react";
```

**Step 2:** We call it while passing in 2 args:

-   A function that determines what it does,
-   An array, which determines when it does it.
    -   If we pass an empty array `[]` it only does once when rendering and never again.
    -   If we pass in a property or a state value, it listens to its changes.

```jsx
useEffect(() => {
	console.log(`It's ${emotion} now.`);
}, [emotion]);
```

[THIS IS WHERE I LEFT](https://www.linkedin.com/learning/react-js-essential-training-14836121/understanding-the-dependency-array?autoSkip=true&resume=false&u=2174970)
